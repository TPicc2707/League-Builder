@page "/leaguesearch"
@inject NavigationManager NavManager

<MudItem Style="padding-top: 200px; padding-bottom: 450px;">
    <MudItem Style="padding-bottom: 25px;">
        <MudText Typo="Typo.h3" Align="Align.Center" Style="font-weight:bold" Color="Color.Primary">Search Leagues</MudText>
    </MudItem>
    <MudTabs Elevation="2" Centered="true" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6" Color="Color.Primary" Style="background-color: white;">
        <MudTabPanel Text="Search All">
            <MudButton OnClick="SearchAll" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" FullWidth="true">Search All</MudButton>
        </MudTabPanel>
        <MudTabPanel Text="Sport">
            <MudStack Row="true">
                <MudItem xs="8" md="8" lg="8">
                    <MudSelect @bind-Value="sport" Label="Sport">
                        @foreach (var sport in Constants.Sports())
                        {
                            <MudSelectItem Value="sport">@sport</MudSelectItem>
                        }
                    </MudSelect>
                </MudItem>
                <MudItem xs="4" md="4" lg="4" Style="align-content: center">
                    <MudButton Disabled="@(sport == string.Empty ? true : false)" OnClick="SearchBySport" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" Style="width: 200px;">Search</MudButton>
                </MudItem>
            </MudStack>
        </MudTabPanel>
        <MudTabPanel Text="Name">
            <MudStack Row="true">
                <MudItem xs="9" md="9" lg="9">
                    <MudTextField @bind-Value="name" Placeholder="Name" />
                </MudItem>
                <MudItem xs="3" md="3" lg="3">
                    <MudButton Disabled="@(name == string.Empty ? true : false)" OnClick="SearchByName" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" Style="width: 200px;">Search</MudButton>
                </MudItem>
            </MudStack>
        </MudTabPanel>
    </MudTabs>

</MudItem>

@code {
    private string sport = string.Empty;
    private string name = string.Empty;

    private void SearchAll()
    {
        NavManager.NavigateTo("/leagues");
    }

    private void SearchBySport()
    {
        NavManager.NavigateTo($"/leaguesbysport/{sport}");
    }

    private void SearchByName()
    {
        NavManager.NavigateTo($"/leaguesbyname/{name}");
    }

}
